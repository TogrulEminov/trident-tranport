(function () {
  (this.I18n = function () {
    var t,
      e = localStorage.getItem("lang");
    (this.language = e),
      (t = this),
      (t.contents = demoJson),
      (t.contents.prop = function (t) {
        for (var e = this, a = t.split("."), n = 0; n < a.length; n++)
          e = e[a[n]];
        return e;
      }),
      t.localize();
  }),
    (this.I18n.prototype.hasCachedContents = function () {
      return void 0 !== this.contents;
    }),
    (this.I18n.prototype.lang = function (t) {
      return (
        "string" == typeof t && (this.language = t),
        this.localize(),
        this.language
      );
    }),
    (this.I18n.prototype.localize = function () {
      var t = this.contents;
      if (this.hasCachedContents())
        for (
          var e = function (t, a, n) {
              for (var r in t)
                if (t.hasOwnProperty(r) && "object" == typeof t[r]) {
                  var i = a.slice();
                  i.push(r),
                    (function (t) {
                      for (var e in t)
                        if (t.hasOwnProperty(e) && "string" == typeof t[e])
                          return !0;
                    })(t[r])
                      ? n.push(
                          i.reduce(function (t, e, a, n) {
                            return t + "." + e;
                          })
                        )
                      : e(t[r], i, n);
                }
              return n;
            },
            a = e(t, [], []),
            n = 0;
          n < a.length;
          n++
        ) {
          var r = a[n];
          t.prop(r).hasOwnProperty(this.language)
            ? ($('[data-i18n="' + r + '"]').text(t.prop(r)[this.language]),
              $('[data-i18n-placeholder="' + r + '"]').attr(
                "placeholder",
                t.prop(r)[this.language]
              ),
              $('[data-i18n-value="' + r + '"]').attr(
                "value",
                t.prop(r)[this.language]
              ))
            : ($('[data-i18n="' + r + '"]').text(t.prop(r).az),
              $('[data-i18n-placeholder="' + r + '"]').attr(
                "placeholder",
                t.prop(r).az
              ),
              $('[data-i18n-value="' + r + '"]').attr("value", t.prop(r).az));
        }
    });
}).apply(window),
  $(document).ready(function () {
    let t = localStorage.getItem("lang") || "az";
    new I18n().lang(t),
      (function t(e) {
        $(".lang-picker li").removeClass("selected"), e.addClass("selected");
        let a = e.attr("id");
        location.replace(window.location.pathname + "#" + a);
      })($(".lang-picker #" + t));
    let e = document.querySelectorAll(".lang-picker li");
    function a(t) {
      let e = t.currentTarget.id;
      localStorage.setItem("lang", e),
        location.replace(window.location.pathname + "#" + e),
        location.reload();
    }
    e.forEach((t) => {
      t.addEventListener("click", a);
    });
  });
